@startuml "Optimalizace-extrakce-nazvu-spolecnosti"
' Diagram workflow procesu optimalizace extrakce názvů společností

title Proces optimalizace extrakce názvů společností

start

:Identifikace problému;
note right
  Regex příliš obecný, zachytává běžná slova
  začínající velkým písmenem
end note

:Analýza kódu;
note right
  Chybí filtrování běžných slov
  Chybí kontrola kontextu (pozice ve větě)
  Příliš jednoduchý vzor pro extrakci
end note

:Vytvoření testovacího skriptu;
note right
  Definice testovacích případů
  s očekávanými výstupy
  pro různé typy dotazů
end note

fork
  :Vylepšení regex vzoru;
  note right
    Změna na vzor specificky
    hledající velká písmena s mezerami
  end note
fork again
  :Implementace filtrování běžných slov;
  note right
    Vytvoření seznamu běžných slov,
    která nejsou názvy společností
  end note
fork again
  :Přidání kontroly kontextu;
  note right
    Ignorování slov na začátku věty
    Minimální délka pro platný název
  end note
end fork

:Testování implementace;
note right
  Ověření různých scénářů vstupů
  Kontrola správného fungování
  pro různé typy dotazů
end note

if (Testy úspěšné?) then (ne)
  :Úprava implementace;
  note right
    Vylepšení logiky filtrace
    Rozšíření seznamu běžných slov
  end note
  :Opakování testů;
  note right
    Další iterace testování
    až do úspěšného průchodu
  end note
else (ano)
  :Aplikace změn do produkčního kódu;
  note right
    Úprava src/memory_agent/analyzer.py
    s vylepšenou implementací
  end note
endif

:Vytvoření dokumentace;
note right
  Popis problému, analýza příčiny,
  implementovaného řešení a verifikace
  v deploy_logs
end note

:Nasazení na GitHub;
note right
  Použití deploy_company_extraction_optimization.sh
  pro odeslání změn na GitHub
end note

:Kontrola nasazení;
note right
  Monitoring automatického nasazení
  z GitHubu na LangGraph Platform
end note

stop
@enduml
