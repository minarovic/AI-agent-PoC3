@startuml "IndentationError-Fix-Flow"
' Diagram zobrazující proces opravy chyby indentace

!theme plain
skinparam backgroundColor #FEFEFE
skinparam TitleFontSize 18
skinparam ActivityBackgroundColor #f0f8ff
skinparam ActivityBorderColor #87CEFA
skinparam ArrowColor #333333

title "Proces opravy chyby indentace v Python kódu"

start
:GitHub Action selhal s chybou\n`IndentationError: unexpected indent`;
note right: Řádek s definicí `is_company_analysis`\nv souboru analyzer.py

:Identifikace problémových souborů;
:Analýza kódu v src/memory_agent/analyzer.py;
note right: Nalezeny nesprávně indentované řádky,\nkteré původně patřily do třídy\nAnalysisResult

split
  :Úprava src/memory_agent/analyzer.py;
  note right: Odstranění pozůstatků\nnesprávně indentovaných řádků
split again
  :Úprava src/memory_agent/schema.py;
  note right: Přidání definice chybějících\npolí do třídy AnalysisResult
end split

:Vytvoření dokumentace opravy;
note right: Soubory v deploy_logs:
- indentation_fix_18_05_2025.md
- indentation_error_notes.md

:Aktualizace deployment_check_18_05_2025.md;
note right: Přidání informace o\nproblému a jeho řešení

:Spuštění nového buildu\npro ověření opravy;

if (Build úspěšný?) then (ano)
  :Pokračování v procesu\nnasazení do LangGraph Platform;
  :Provedení integračních testů;
  :Finální nasazení;
else (ne)
  :Další analýza problému;
  note right: Hledání dalších\npotenciálních problémů
endif

stop
@enduml
